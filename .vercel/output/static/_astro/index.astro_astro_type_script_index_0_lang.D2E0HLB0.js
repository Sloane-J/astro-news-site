const f="modulepreload",w=function(c){return"/"+c},h={},v=function(i,a,l){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),t=r?.nonce||r?.getAttribute("nonce");s=Promise.allSettled(a.map(e=>{if(e=w(e),e in h)return;h[e]=!0;const o=e.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${d}`))return;const n=document.createElement("link");if(n.rel=o?"stylesheet":f,o||(n.as="script"),n.crossOrigin="",n.href=e,t&&n.setAttribute("nonce",t),document.head.appendChild(n),o)return new Promise((m,p)=>{n.addEventListener("load",m),n.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${e}`)))})}))}function u(r){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=r,window.dispatchEvent(t),!t.defaultPrevented)throw r}return s.then(r=>{for(const t of r||[])t.status==="rejected"&&u(t.reason);return i().catch(u)})},S=()=>{const c=document.querySelector(".pagefind-ui");c&&c.remove(),v(async()=>{const{PagefindUI:i}=await import("./ui-core.Do3S_SSW.js");return{PagefindUI:i}},[]).then(({PagefindUI:i})=>{new i({element:"#search",showSubResults:!0,showImages:!1,autofocus:!0});const a=document.querySelector(".pagefind-ui"),l=a?.querySelector('input[type="text"]'),s=a?.querySelector(".pagefind-ui__search-clear"),u=new URL(window.location.href),t=new URLSearchParams(u.search).get("q");s&&(s.textContent="âœ– Clear"),t&&l&&(l.value=t,l.dispatchEvent(new Event("input",{bubbles:!0}))),l?.addEventListener("input",e=>{const o=e.target,d=new URL(window.location.href),n=new URLSearchParams(d.search);n.set("q",o.value),window.history.replaceState({},"",`${d.pathname}?${n}`)}),s?.addEventListener("click",()=>{const e=new URL(window.location.href);new URLSearchParams(e.search).delete("q"),window.history.replaceState({},"",`${e.pathname}`)})}).catch(console.error)};document.addEventListener("astro:page-load",()=>{S()});export{v as _};
